<div class=breadcrumbs>
	<ul>
		<li><a class=icon-users href="{BACKURL?module=member&id=0}">{LNG_Users}</a></li>
		<li><span>{LNG_Editing your account}</span></li>
	</ul>
</div>
<section>
	<header><h1 class=icon-profile>{TITLE}</h1></header>
	<form id=setup_frm class=setup_frm method=post action=index.php autocomplete=off>
		<fieldset>
			<legend><span>{LNG_Email}</span></legend>
			<div class=item>
				<label for=email>{LNG_Email}</label>
				<span class="g-input icon-email"><input {ADMIN} type=email id=email name=email maxlength=255 value="{EMAIL}" title="{LNG_The system will send the registration information to this e-mail. Please use real email address}"></span>
				<div class=comment id=result_email>{LNG_The system will send the registration information to this e-mail. Please use real email address}</div>
			</div>
		</fieldset>
		<fieldset>
			<legend><span>{LNG_Change your password}</span></legend>
			<div class=item>
				<div class=input-groups>
					<div class=width50>
						<label for=password>{LNG_Password}</label>
						<span class="g-input icon-password"><input type=password id=password name=password maxlength=20 title="{LNG_Passwords must be at least four characters}" data-result=resultPassword></span>
					</div>
					<div class=width50>
						<label for=repassword>{LNG_Repassword}</label>
						<span class="g-input icon-password"><input type=password id=repassword name=repassword maxlength=20 title="{LNG_Enter your password again}" data-result=resultPassword></span>
					</div>
				</div>
				<div class=comment id=resultPassword>{LNG_To change your password, enter your password to match the two inputs} {LNG_Passwords must be at least four characters}</div>
			</div>
		</fieldset>
		<fieldset>
			<legend><span>{LNG_Other} ({LNG_Public})</span></legend>
			<div class=item>
				<label for=displayname>{LNG_Displayname}</label>
				<span class="g-input icon-user"><input type=text id=displayname name=displayname maxlength=50 value="{DISPLAYNAME}" title="{LNG_Name for the show on the site at least 2 characters}"></span>
				<div class=comment id=result_displayname>{LNG_Name for the show on the site at least 2 characters}</div>
			</div>
			<div class=item>
				<label for=sex>{LNG_Gender}</label>
				<span class="g-input icon-sex-u"><select name=sex id=sex title="{LNG_Please choose} {LNG_Gender}">{SEX}</select></span>
			</div>
			<div class=item>
				<div class=usericon><span><img src="{ICON}" alt=usericon id=imgIcon></span></div>
				<label for=icon>{LNG_Avatar}</label>
				<span class="g-input icon-upload"><input type=file class=g-file name=icon id=icon placeholder="{LNG_Avatar}" title="{USER_ICON_TYPIES}" accept="{ACCEPT}" data-preview=imgIcon></span>
				<div class=comment id=result_icon>{USER_ICON_TYPIES}</div>
			</div>
			<div class=item>
				<label for=website>{LNG_Website}</label>
				<span class="g-input icon-world"><input type=url name=website id=website maxlength=255 value="{WEBSITE}" title="{LNG_Your site&#39;s URL (exclude http://, eg www.domain.tld).}"></span>
				<div class=comment id=result_url_website>{LNG_Your site&#39;s URL (exclude http://, eg www.domain.tld).}</div>
			</div>
		</fieldset>
		<fieldset>
			<legend><span>{LNG_Profile}</span></legend>
			<div class=item>
				<div class=input-groups>
					<div class=width33>
						<label for=pname>{LNG_Title}</label>
						<span class="g-input icon-user"><input type=text name=pname id=pname maxlength=50 value="{PNAME}"></span>
					</div>
					<div class=width33>
						<label for=fname>{LNG_Name}</label>
						<span class=g-input><input type=text name=fname id=fname maxlength=50 value="{FNAME}"></span>
					</div>
					<div class=width33>
						<label for=lname>{LNG_Surname}</label>
						<span class=g-input><input type=text name=lname id=lname maxlength=50 value="{LNAME}"></span>
					</div>
				</div>
			</div>
			<div class=item>
				<label for=birthday>{LNG_Birthday}</label>
				<span class="g-input icon-calendar"><input type=date name=birthday id=birthday value="{BIRTHDAY}" title="{LNG_Please choose} {LNG_Birthday}"></span>
			</div>
			<div class=item>
				<label for=company>{LNG_Company}</label>
				<span class="g-input icon-address"><input type=text name=company id=company maxlength=255 value="{COMPANY}" title="{LNG_Your Workplace}"></span>
				<div class=comment id=result_company>{LNG_Your Workplace}</div>
			</div>
			<div class=item>
				<div class=input-groups>
					<div class=width50>
						<label for=phone1>{LNG_Phone}</label>
						<span class="g-input icon-phone"><input type=text name=phone1 id=phone1 maxlength=10 value="{PHONE1}" title="{LNG_Please fill in} {LNG_Phone}" pattern="[0-9]+"></span>
						<em id=result_number_phone1></em>
					</div>
					<div class=width50>
						<label for=phone2>{LNG_Phone}/{LNG_Fax}</label>
						<span class="g-input icon-print"><input type=text name=phone2 id=phone2 maxlength=32 value="{PHONE2}" title="{LNG_Please fill in} {LNG_Phone}/{LNG_Fax}"></span>
						<em id=result_number_phone2></em>
					</div>
				</div>
			</div>
			<div class=item>
				<label><input type=checkbox name=subscrib id=subscrib value=1 {SUBSCRIB} title="{LNG_Subscribers}">&nbsp;{LNG_Subscribers}</label>
			</div>
		</fieldset>
		<fieldset>
			<legend><span>{LNG_Address details}</span></legend>
			<div class=item>
				<label for=address1>{LNG_Address} 1</label>
				<span class="g-input icon-address"><input type=text name=address1 id=address1 maxlength=64 value="{ADDRESS1}" title="{LNG_Please fill in} {LNG_Address} 1"></span>
			</div>
			<div class=item>
				<label for=address2>{LNG_Address} 2</label>
				<span class="g-input icon-location"><input type=text name=address2 id=address2 maxlength=64 value="{ADDRESS2}" title="{LNG_Please fill in} {LNG_Address} 2"></span>
			</div>
			<div class=item>
				<div class=input-groups-table>
					<div class=width25>
						<label for=provinceID>{LNG_Province}</label>
						<span class="g-input icon-location"><select id=provinceID name=provinceID title="{LNG_Please choose} {LNG_Province}">{PROVINCEID}</select></span>
					</div>
					<div class=width25>
						<label for=province>{LNG_Province}</label>
						<span class="g-input icon-location"><input type=text name=province id=province maxlength=64 value="{PROVINCE}" title="{LNG_Please fill in} {LNG_Province}"></span>
					</div>
					<div class=width25>
						<label for=zipcode>{LNG_Zipcode}</label>
						<span class="g-input icon-location"><input type=number id=zipcode name=zipcode value="{ZIPCODE}" title="{LNG_Please fill in} {LNG_Zipcode}"></span>
					</div>
					<div class=width50>
						<label for=country>{LNG_Country}</label>
						<span class="g-input icon-world"><select id=country name=country title="{LNG_Please choose} {LNG_Country}">{COUNTRY}</select></span>
					</div>
				</div>
			</div>
		</fieldset>
		<fieldset>
			<legend><span>{LNG_Other}</span></legend>
			<div class=item>
				<label for=invite>{LNG_Invitation code}</label>
				<span class="g-input icon-flag"><input type=text readonly id=invite value="{INVITE}"></span>
			</div>
			<div class=item>
				<label for=status>{LNG_Member status}</label>
				<span class="g-input icon-star0"><select {ADMIN} name=status id=status title="{LNG_Status of membership, the first item (0) means end users and 1 represents the administrator. (The first two items are the items necessary), you can modify the ability of each member of the modules again.}">{STATUS}</select></span>
				<div class="comment">{LNG_Status of membership, the first item (0) means end users and 1 represents the administrator. (The first two items are the items necessary), you can modify the ability of each member of the modules again.}</div>
			</div>
			<div class=item>
				<label><input type=checkbox name=admin_access id=admin_access value=1 {ADMIN_ACCESS} title="{LNG_Access to the system administrator.}">&nbsp;{LNG_Access to the system administrator.}</label>
			</div>
		</fieldset>
		<fieldset class=submit>
			<input type=submit class="button large save" value="{LNG_Save}">
			<input type=hidden name="id" id="id" value="{ID}">
			{HIDDEN}
		</fieldset>
	</form>
</section>
<script>
	new GForm('setup_frm', 'index.php/index/model/updateprofile/save').onsubmit(doFormSubmit);
	new GValidator('email', 'keyup,change', checkEmail, 'index.php/index/model/checker/email', null, 'setup_frm');
	new GValidator('password', 'keyup,change', checkPassword);
	new GValidator('repassword', 'keyup,change', checkPassword);
	new GValidator('displayname', 'keyup,change', checkDisplayname, 'index.php/index/model/checker/displayname', null, 'setup_frm');
	new GValidator('number_phone1', 'keyup,change', checkPhone, 'index.php/index/model/checker/phone', null, 'setup_frm');
	$G('birthday').addEvent('change', function () {
		var age = new Date().compare(this.value);
		this.calendar.setText(this.calendar.getDateFormat('d M Y') + ' ({LNG_age} ' + age.year + ' {LNG_years}, ' + age.month + ' {LNG_month} ' + age.day + ' {LNG_days})');
	});
	var _contryChanged = function () {
		if (this.value != 'TH') {
			$G($E('provinceID').parentNode.parentNode).addClass('hidden');
			$G($E('province').parentNode.parentNode).removeClass('hidden');
		} else {
			$G($E('provinceID').parentNode.parentNode).removeClass('hidden');
			$G($E('province').parentNode.parentNode).addClass('hidden');
		}
	};
	if ($E('country')) {
		$G('country').addEvent('change', _contryChanged);
		_contryChanged.call($E('country'));
	}
</script>